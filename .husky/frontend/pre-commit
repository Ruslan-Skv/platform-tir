#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸš€ Running frontend pre-commit checks..."
cd frontend

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° TypeScript Ñ‚Ğ¸Ğ¿Ğ¾Ğ²
echo "ğŸ” Type checking..."
npm run type-check || {
  echo "âŒ TypeScript errors found"
  exit 1
}

# ESLint
echo "ğŸ” Linting..."
npm run lint || {
  echo "âŒ ESLint errors found"
  exit 1
}

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
echo "ğŸ” Checking formatting..."
npm run format:check || {
  echo "âŒ Formatting issues found"
  exit 1
}

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ÑĞµĞºÑ€ĞµÑ‚Ğ¾Ğ²
echo "ğŸ” Checking for secrets..."
npx secretlint "**/*" || {
  echo "âš ï¸  Potential secrets found"
  exit 1
}

echo "âœ… All frontend checks passed!"
