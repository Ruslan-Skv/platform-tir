#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸš€ Running frontend pre-commit checks..."
cd frontend

# Ğ—Ğ°Ğ¿ÑƒÑĞº lint-staged Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸ Ğ¸ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ staged Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²
echo "ğŸ” Running lint-staged on staged files..."
npx lint-staged || {
  echo "âŒ Lint-staged checks failed"
  exit 1
}

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° TypeScript Ñ‚Ğ¸Ğ¿Ğ¾Ğ² Ğ´Ğ»Ñ Ğ²ÑĞµĞ³Ğ¾ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ° (Ğ±Ñ‹ÑÑ‚Ñ€Ğ°Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ°)
echo "ğŸ” Type checking..."
npm run type-check || {
  echo "âŒ TypeScript errors found"
  exit 1
}

# ESLint Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ°
echo "ğŸ” Linting..."
npm run lint || {
  echo "âŒ ESLint errors found"
  exit 1
}

echo "âœ… All frontend checks passed!"
