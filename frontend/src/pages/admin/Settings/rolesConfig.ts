/**
 * Иерархия ролей системы.
 * Соответствует enum UserRole в backend/prisma/schema.prisma
 * и декораторам @Roles() в контроллерах админки.
 */
export type BackendRole =
  | 'SUPER_ADMIN'
  | 'ADMIN'
  | 'CONTENT_MANAGER'
  | 'MODERATOR'
  | 'SUPPORT'
  | 'PARTNER'
  | 'MANAGER'
  | 'TECHNOLOGIST'
  | 'BRIGADIER'
  | 'LEAD_SPECIALIST_FURNITURE'
  | 'LEAD_SPECIALIST_WINDOWS_DOORS'
  | 'SURVEYOR'
  | 'DRIVER'
  | 'INSTALLER'
  | 'USER'
  | 'GUEST';

export interface RoleConfig {
  id: BackendRole;
  label: string;
  description: string;
  /** Разделы админки, к которым есть доступ (по @Roles в backend) */
  permissions: string[];
}

export const ROLES_CONFIG: RoleConfig[] = [
  {
    id: 'SUPER_ADMIN',
    label: 'Супер-администратор',
    description:
      'Полный доступ ко всем функциям: управление пользователями, настройки системы, все разделы админки.',
    permissions: [
      'Управление пользователями (создание, редактирование, удаление)',
      'Настройки системы и ролей',
      'Каталог: товары, категории, производители, характеристики, поставщики',
      'Заказы: полный доступ',
      'CRM: клиенты, задачи',
      'Контент: страницы, блог',
      'Аналитика: полный доступ',
      'Доставка и оплаты (настройка методов)',
    ],
  },
  {
    id: 'ADMIN',
    label: 'Администратор',
    description:
      'Расширенный доступ к бизнес-процессам. Без управления пользователями и системными настройками.',
    permissions: [
      'Каталог: товары, категории, производители, характеристики, поставщики',
      'Заказы: просмотр, статусы, отмена, возвраты',
      'CRM: клиенты, задачи',
      'Контент: страницы, блог',
      'Аналитика: отчёты, KPI, маркетинг, финансы',
      'Доставка и оплаты (настройка методов)',
    ],
  },
  {
    id: 'CONTENT_MANAGER',
    label: 'Контент-менеджер',
    description: 'Управление товарами, контентом и обработка заказов.',
    permissions: [
      'Каталог: товары, категории, производители, характеристики',
      'Заказы: просмотр и обработка',
      'Контент: страницы, блог',
      'Аналитика: базовые отчёты (без финансов и маркетинга)',
    ],
  },
  {
    id: 'MODERATOR',
    label: 'Модератор',
    description: 'Обработка заказов и коммуникация с клиентами.',
    permissions: [
      'Заказы: просмотр, изменение статусов, заметки',
      'CRM: клиенты, задачи',
      'Аналитика: базовые отчёты',
    ],
  },
  {
    id: 'SUPPORT',
    label: 'Поддержка',
    description: 'Работа с клиентами, просмотр заказов и товаров.',
    permissions: [
      'Заказы: просмотр',
      'CRM: клиенты, задачи',
      'Аналитика: просмотр дашборда и отчётов',
    ],
  },
  {
    id: 'MANAGER',
    label: 'Менеджер',
    description: 'Работа в CRM: клиенты, замеры, договоры, оплаты, задачи.',
    permissions: [
      'CRM: клиенты, замеры, договоры, оплаты, задачи',
      'Просмотр офисов и направлений CRM',
    ],
  },
  {
    id: 'TECHNOLOGIST',
    label: 'Технолог',
    description: 'Работа в CRM: замеры, объекты, договоры, оплаты.',
    permissions: [
      'CRM: замеры, объекты, договоры, оплаты',
      'Просмотр клиентов, офисов и направлений CRM',
    ],
  },
  {
    id: 'PARTNER',
    label: 'Партнёр',
    description: 'Управление собственными товарами/услугами.',
    permissions: ['Каталог: управление собственными товарами'],
  },
  {
    id: 'BRIGADIER',
    label: 'Бригадир',
    description: 'Руководитель бригады. Доступ к CRM: замеры, договоры, оплаты.',
    permissions: ['CRM: замеры, договоры, оплаты', 'Просмотр клиентов'],
  },
  {
    id: 'LEAD_SPECIALIST_FURNITURE',
    label: 'Ведущий специалист по мебели',
    description: 'Работа с заказами по направлению «Мебель». Доступ к CRM.',
    permissions: ['CRM: замеры, договоры, оплаты по мебели', 'Клиенты'],
  },
  {
    id: 'LEAD_SPECIALIST_WINDOWS_DOORS',
    label: 'Ведущий специалист по Окнам, Дверям, Потолкам, Жалюзям',
    description: 'Работа с заказами по направлениям: окна, двери, потолки, жалюзи. Доступ к CRM.',
    permissions: ['CRM: замеры, договоры, оплаты по направлениям', 'Клиенты'],
  },
  {
    id: 'SURVEYOR',
    label: 'Замерщик',
    description: 'Выполнение замеров. Просмотр и обновление своих замеров.',
    permissions: ['CRM: замеры (свои)', 'Просмотр клиентов'],
  },
  {
    id: 'DRIVER',
    label: 'Водитель (доставщик)',
    description: 'Доставка заказов. Просмотр информации о доставках.',
    permissions: ['CRM: просмотр договоров, даты доставки'],
  },
  {
    id: 'INSTALLER',
    label: 'Монтажник',
    description: 'Выполнение монтажных работ. Просмотр своих назначений.',
    permissions: ['CRM: просмотр договоров, даты монтажа'],
  },
  {
    id: 'USER',
    label: 'Пользователь',
    description: 'Стандартный зарегистрированный пользователь магазина.',
    permissions: ['Личный кабинет', 'Свои заказы', 'Корзина, избранное, сравнение'],
  },
  {
    id: 'GUEST',
    label: 'Гость',
    description: 'Неавторизованный посетитель. Ограниченный доступ к сайту.',
    permissions: ['Просмотр каталога', 'Корзина (без оформления)'],
  },
];
